<link rel="stylesheet" href="/tweets.css">

<div class="d-flex">
  <div class="tweets-container border-left border-right border-top">
    <div class="sticky-top border-bottom py-2" style="background-color: white;">
      <div class="home d-inline-block mt-3 ml-3">
        <a href="/tweets"> <h5 class="text-dark font-weight-bold">Home</h5> </a>
      </div>
    </div>

    <form action="/tweets" method="POST">
      <div class="input-container d-flex flex-row">
        <div class="input-group mb-3">
          <a class="mt-2 ml-3" href="/users/{{user.id}}/tweets">
            <img class="rounded-circle" style="width: 50px; height: 50px;" src="{{user.avatar}}"/>
          </a>

          <input style="display: inline;" type="text" class="form-control mt-3 border-0 shadow-none"
            placeholder="What's happening?" name="description" id="description" value="{{tweets.description}}">
        </div>
      </div>

      <div class="d-flex flex-row-reverse bd-highlight pb-2 border-bottom">
        <button style="border-radius: 100px" type="submit" class="btn btn-sm btn-primary tweet text-lowercase text-capitalize">Tweet</button>
      </div>
    </form>

    <div class="divider"></div>
    
    <div class="mt-0 border-top">
      {{#each tweets}}
        <div class="tweet-container d-flex mt-2 border-bottom" style="cursor: pointer;" onclick="window.location='/tweets/{{this.id}}';">
          <div class="user">
            <a class="mt-2 ml-3" href="/users/{{this.UserId}}/tweets">
              <img class="rounded-circle" style="width: 50px; height: 50px;" src="{{this.User.avatar}}" />
            </a> 
          </div>
          <div class="content-container d-flex flex-column ml-3">
            <div class="user-info d-flex align-items-baseline">
              <p class="font-weight-bold m-0">{{this.User.name}}</p>
              <small class="text-muted ml-1">{{this.User.account}} â€¢ {{moment this.createdAt}}</small>
            </div>
            <div class="text">
              <div class="text-break">
                <p class="card-text">{{this.description}}</p>
              </div>
            </div>
            <div class="tweet-nav d-flex my-2 ml-1">
              <div class="icon-comment flex-grow-1">
                <small class="text-muted">
                  <i class="far fa-comment fa-lg"> {{this.Replies.length}}</i>
                </small>
              </div>
              <div class="icon-heart flex-grow-1">
                <small class="text-muted">
                  <i class="far fa-heart fa-lg" style="color: red;"> {{this.LikedUsers.length}}</i>
                </small>
              </div>
            </div>
          </div>
        </div>
      {{/each}}
    </div>
  </div>
</div>